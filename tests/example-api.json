{
  "mappings": [
    {
      "name": "Get Users",
      "request": {
        "method": "POST",
        "url": "/api/validate"
      },
      "response": {
        "status": 202,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "id": "{{jsonPath request.body '$.id'}}",
          "name": "{{jsonPath request.body '$.name'}}",
          "email": "{{jsonPath request.body '$.email'}}",
          "status": "PENDING"
        }
      },
      "serveEventListeners": [
        {
          "name": "webhook",
          "parameters": {
            "method": "POST",
            "url": "http://demo-api:8080/webhook",
            "headers": {
              "Content-Type": "application/json"
            },
            "body": "{\"id\":\"{{jsonPath originalRequest.body '$.id'}}\",\"name\":\"{{jsonPath originalRequest.body '$.name'}}\",\"email\":\"{{jsonPath originalRequest.body '$.email'}}\",\"status\":\"SUCCESS\",\"message\":\"Validation completed\"}",

            "delay": {
              "type": "fixed",
              "milliseconds": 2500
            }
          }
        }
      ]
    }
  ]
}
